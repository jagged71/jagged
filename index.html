<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conclave Arcana Memory Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a0033, #2d1b69, #4a148c);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #fff;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #ffd700, #ff6b35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .score, .moves, .timer {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .game-container {
            display: grid;
            gap: clamp(5px, 10px, 15px);
            max-width: min(95vw, 1200px);
            margin-bottom: 20px;
            justify-content: center;
        }

        .card {
            width: var(--card-width, 160px);
            height: var(--card-height, 220px);
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: scale(1.05);
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px solid #ffd700;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .card-front {
            background: linear-gradient(135deg, #2a0845, #4a148c);
            color: #ffd700;
            transform: rotateY(180deg);
            padding: 5px;
        }

		.card-back {
			display: flex;
			justify-content: center;
			align-items: center;
			background: linear-gradient(135deg, #ffffff, #3949ab); /* keep your existing gradient */
			border-radius: 8px;
			padding: 10px;
		}

		.card-logo {
			max-width: 100%;
			max-height: 100%;
			object-fit: contain;
		}

        .card-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 10px;
            margin-bottom: 5px;
        }

        .card-name {
            font-size: clamp(0.6rem, 0.8rem, 0.9rem);
            font-weight: bold;
            text-align: center;
            color: #fff;
            line-height: 1.1;
            padding: 0 5px;
        }

        .card.matched {
            opacity: 0.6;
            transform: scale(0.9);
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #ff6b35, #ffd700);
            color: #1a0033;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,107,53,0.4);
        }

        .victory-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: #ffd700;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5rem;
            display: none;
            z-index: 1000;
            max-width: 90%;
            width: 400px;
        }

        .difficulty-selector {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        .difficulty-selector select {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
        }

        .player-name-input {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .player-name-input input {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
        }

        .high-scores {
            margin-top: 30px;
            width: 100%;
            max-width: 600px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .high-scores h2 {
            text-align: center;
            margin-bottom: 15px;
            color: #ffd700;
        }

        .high-scores table {
            width: 100%;
            border-collapse: collapse;
        }

        .high-scores th, .high-scores td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .high-scores th {
            color: #ff6b35;
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
            
            .card {
                width: 90px;
                height: 120px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚öîÔ∏è Conclave Arcana Memory Game ‚öîÔ∏è</h1>
        <p>Match the character images with their names!</p>
    </div>

    <div class="player-name-input">
        <label for="playerName">Your Name: </label>
        <input type="text" id="playerName" placeholder="Enter your name">
    </div>

    <div class="difficulty-selector">
        <label for="difficulty">Difficulty: </label>
        <select id="difficulty">
            <option value="easy">Easy (4x4 grid)</option>
            <option value="medium" selected>Medium (6x6 grid)</option>
            <option value="hard">Hard (8x8 grid)</option>
            <option value="crazy">Crazy (12x12 grid)</option>
        </select>
    </div>

    <div class="game-info">
        <div class="score">Score: <span id="score">0</span></div>
        <div class="moves">Moves: <span id="moves">0</span></div>
        <div class="timer">Time: <span id="timer">00:00</span></div>
    </div>

    <div class="game-container" id="gameContainer">
        <!-- Cards will be generated here -->
    </div>

    <div class="controls">
        <button class="btn" onclick="newGame()">New Game</button>
        <button class="btn" onclick="showHint()">Hint (Costs 10 pts)</button>
    </div>

    <div class="victory-message" id="victoryMessage">
        <h2>üéâ Victory! üéâ</h2>
        <p id="victoryText"></p>
        <button class="btn" onclick="hideVictory()">Play Again</button>
    </div>

    <div class="high-scores">
        <h2>üèÜ High Scores üèÜ</h2>
        <table id="highScoresTable">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Name</th>
                    <th>Score</th>
                    <th>Difficulty</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="highScoresBody">
                <!-- High scores will be loaded here -->
            </tbody>
        </table>
    </div>

    <script>
        // Conclave Arcana characters
const conclaveCharacters = [
    { name: "Janni Oracle", image: "Janni Oracle.png" },
    { name: "Jicarilla the Rime", image: "Jicarilla the Rime.png" },
    { name: "Kavor Skarn", image: "Kavor Skarn.png" },
    { name: "Kaylia Silverleaf", image: "Kaylia Silverleaf.png" },
    { name: "Leolin Sifu", image: "Leolin Sifu.png" },
    { name: "Lucky Longshot", image: "Lucky Longshot.png" },
    { name: "Mad Kaboomist", image: "Mad Kaboomist.png" },
    { name: "Mahkah Hemlig", image: "Mahkah Hemlig.png" },
    { name: "Molten Elemental", image: "Molten Elemental.png" },
    { name: "Moribund Arrowbait", image: "Moribund Arrowbait.png" },
    { name: "Mystic Mudbinder", image: "Mystic Mudbinder.png" },
    { name: "Oridum Graybrow", image: "Oridum Graybrow.png" },
    { name: "Owlkin Geodesist", image: "Owlkin Geodesist.png" },
    { name: "Palifala Weslinath", image: "Palifala Weslinath.png" },
    { name: "Phlegmunculus", image: "Phlegmunculus.png" },
    { name: "Portly Cannoneer", image: "Portly Cannoneer.png" },
    { name: "Quillstorm Mage", image: "Quillstorm Mage.png" },
    { name: "Razi Clanktrap", image: "Razi Clanktrap.png" },
    { name: "Runic Skychonk", image: "Runic Skychonk.png" },
    { name: "Sacrosanct Shanker", image: "Sacrosanct Shanker.png" },
    { name: "Shadowfey Sheik", image: "Shadowfey Sheik.png" },
    { name: "Sheng Xiao", image: "Sheng Xiao.png" },
    { name: "Silverleaf Mage", image: "Silverleaf Mage.png" },
    { name: "Silverleaf Ranger", image: "Silverleaf Ranger.png" },
    { name: "Silverleaf Warlock", image: "Silverleaf Warlock.png" },
    { name: "Songale", image: "Songale.png" },
    { name: "Stampeding Calf", image: "Stampeding Calf.png" },
    { name: "Steppe Stalker", image: "Steppe Stalker.png" },
    { name: "Swiftbeard Stout", image: "Swiftbeard Stout.png" },
    { name: "Sylvaran Sentinel", image: "Sylvaran Sentinel.png" },
    { name: "Taye Loreswift", image: "Taye Loreswift.png" },
    { name: "Thragha", image: "Thragha.png" },
    { name: "Thraghun", image: "Thraghun.png" },
    { name: "Thunderous Herald", image: "Thunderous Herald.png" },
    { name: "Tidal Tsunamist", image: "Tidal Tsunamist.png" },
    { name: "Umbral Elemental", image: "Umbral Elemental.png" },
    { name: "Vicious Giraffe", image: "Vicious Giraffe.png" },
    { name: "Virid Venomancer", image: "Virid Venomancer.png" },
    { name: "Warwall Juggernaut", image: "Warwall Juggernaut.png" },
    { name: "Water Diviner", image: "Water Diviner.png" },
    { name: "Yaba's Pickle", image: "Yaba_s Pickle.png" }, // Note the underscore vs apostrophe
    { name: "Zargrul", image: "Zargrul.png" },
    { name: "Abyssal Elemental", image: "Abyssal Elemental.png" },
    { name: "Aerial Shieldmaiden", image: "Aerial Shieldmaiden.png" },
    { name: "Anyu Huntswoman", image: "Anyu Huntswoman.png" },
    { name: "Aranduriel", image: "Aranduriel.png" },
    { name: "Arcane Skinwalker", image: "Arcane Skinwalker.png" },
    { name: "Archer Koi", image: "Archer Koi.png" },
    { name: "Archmage Yabanius", image: "Archmage Yabanius.png" },
    { name: "Ashen Cindergrim", image: "Ashen Cindergrim.png" },
    { name: "Auororal Elemental", image: "Auororal Elemental.png" },
    { name: "Bella Ratajowlski", image: "Bella Ratajowlski.png" },
    { name: "Bellowmancer", image: "Bellowmancer.png" },
    { name: "Blazebeard Merc", image: "Blazebeard Merc.png" },
    { name: "Bludgeon Hucker", image: "Bludgeon Hucker.png" },
    { name: "Boring Hobgoblin", image: "Boring Hobgoblin.png" },
    { name: "Bren Palesworn", image: "Bren Palesworn.png" },
    { name: "Bristleborn Brigand", image: "Bristleborn Brigand.png" },
    { name: "Buttercup Mauler", image: "Buttercup Mauler.png" },
    { name: "Calabash Sage", image: "Calabash Sage.png" },
    { name: "Canary Keeper", image: "Canary Keeper.png" },
    { name: "Caravan Guard", image: "Caravan Guard.png" },
    { name: "Cavewise Wayfinder", image: "Cavewise Wayfinder.png" },
    { name: "Conclave Artificer", image: "Conclave Artificer.png" },
    { name: "Conclave Tracker", image: "Conclave Tracker.png" },
    { name: "Craniax the Quick", image: "Craniax the Quick.png" },
    { name: "Decrepit Windseer", image: "Decrepit Windseer.png" },
    { name: "Deep Delver", image: "Deep Delver.png" },
    { name: "Desolation", image: "Desolation.png" },
    { name: "Fenmoor Gorgon", image: "Fenmoor Gorgon.png" },
    { name: "Fenmoor Platypus", image: "Fenmoor Platypus.png" },
    { name: "Fenmoor Wood Troll", image: "Fenmoor Wood Troll.png" },
    { name: "Ferrous Brewer", image: "Ferrous Brewer.png" },
    { name: "Filthy Scavenger", image: "Filthy Scavenger.png" },
    { name: "Fithe Bladestone", image: "Fithe Bladestone.png" },
    { name: "Flame for Hire", image: "Flame for Hire.png" },
    { name: "Folen Flameye", image: "Folen Flameye.png" },
    { name: "Forked-Tongue Sage", image: "Forked-Tongue Sage.png" },
    { name: "Gonach Excavator", image: "Gonach Excavator.png" },
    { name: "Gorgug the Endless", image: "Gorgug the Endless.png" },
    { name: "Gramel the Hunger", image: "Gramel the Hunger.png" },
    { name: "Grimward Ruinshot", image: "Grimward Ruinshot.png" },
    { name: "Halfshell Seer", image: "Halfshell Seer.png" },
    { name: "Happy Quokka", image: "Happy Quokka.png" },
    { name: "Hodlor", image: "Hodlor.png" },
    { name: "Inept Healer", image: "Inept Healer.png" }
];

        let gameState = {
            cards: [],
            flippedCards: [],
            matchedPairs: 0,
            moves: 0,
            score: 0,
            timer: 0,
            gameStarted: false,
            timerInterval: null,
            difficulty: 'medium',
            playerName: ''
        };

        const difficulties = {
            easy: { pairs: 8, grid: 4 },      // 4x4 = 16 cards (8 pairs)
            medium: { pairs: 18, grid: 6 },   // 6x6 = 36 cards (18 pairs)
            hard: { pairs: 32, grid: 8 },     // 8x8 = 64 cards (32 pairs)
            crazy: { pairs: 72, grid: 12 }    // 12x12 = 144 cards (72 pairs)
        };

        // Initialize game on load
        window.onload = function() {
            initGame();
            loadHighScores();
            document.getElementById('playerName').addEventListener('change', function() {
                gameState.playerName = this.value;
            });
        };

        function initGame() {
            const difficulty = document.getElementById('difficulty').value;
            gameState.difficulty = difficulty;
            const pairCount = difficulties[difficulty].pairs;
            const gridSize = difficulties[difficulty].grid;
            
            // Update grid layout
            const container = document.getElementById('gameContainer');
            container.style.gridTemplateColumns = `repeat(${gridSize}, 1fr)`;
            
            // Adjust card size based on grid size
            const cardSize = gridSize <= 6 ? '120px' : gridSize <= 8 ? '80px' : '60px';
            const cardHeight = gridSize <= 6 ? '160px' : gridSize <= 8 ? '100px' : '80px';
            
            container.style.setProperty('--card-width', cardSize);
            container.style.setProperty('--card-height', cardHeight);
            
            // Select characters for this game (cycle through if we need more than available)
            const selectedCharacters = [];
            for (let i = 0; i < pairCount; i++) {
                selectedCharacters.push(conclaveCharacters[i % conclaveCharacters.length]);
            }
            
            // Create card pairs (image card + name card)
            gameState.cards = [];
            selectedCharacters.forEach((char, index) => {
                // Image card
                gameState.cards.push({
                    id: `img_${index}`,
                    type: 'image',
                    character: char,
                    matchId: index
                });
                // Name card
                gameState.cards.push({
                    id: `name_${index}`,
                    type: 'name',
                    character: char,
                    matchId: index
                });
            });

            // Shuffle cards
            shuffleArray(gameState.cards);
            
            // Reset game state
            gameState.flippedCards = [];
            gameState.matchedPairs = 0;
            gameState.moves = 0;
            gameState.score = 0;
            gameState.timer = 0;
            gameState.gameStarted = false;
            
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
            }
            
            updateDisplay();
            renderCards();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function renderCards() {
            const container = document.getElementById('gameContainer');
            container.innerHTML = '';

            gameState.cards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipCard(index);

cardElement.innerHTML = `
    <div class="card-inner">
        <div class="card-front">
            <img src="${card.character.image}" alt="${card.character.name}" class="card-image">
            <div class="card-name">${card.character.name}</div>
        </div>
        <div class="card-back">
            <img src="conclave-logo.png" alt="Conclave Arcana Logo" class="card-logo">
        </div>
    </div>
`;

                container.appendChild(cardElement);
            });
        }

        function flipCard(index) {
            if (!gameState.gameStarted) {
                startTimer();
                gameState.gameStarted = true;
            }

            const card = gameState.cards[index];
            const cardElement = document.querySelector(`[data-index="${index}"]`);

            // Check if card is already flipped or matched
            if (cardElement.classList.contains('flipped') || cardElement.classList.contains('matched')) {
                return;
            }

            // Check if two cards are already flipped
            if (gameState.flippedCards.length >= 2) {
                return;
            }

            // Flip the card
            cardElement.classList.add('flipped');
            gameState.flippedCards.push({ index, card, element: cardElement });

            // Check for match when two cards are flipped
            if (gameState.flippedCards.length === 2) {
                gameState.moves++;
                updateDisplay();
                
                setTimeout(() => {
                    checkMatch();
                }, 1000);
            }
        }

        function checkMatch() {
            const [card1, card2] = gameState.flippedCards;

            if (card1.card.matchId === card2.card.matchId) {
                // Match found!
                card1.element.classList.add('matched');
                card2.element.classList.add('matched');
                gameState.matchedPairs++;
                gameState.score += 100;
                
                // Check if game is won
                if (gameState.matchedPairs === difficulties[gameState.difficulty].pairs) {
                    gameWon();
                }
            } else {
                // No match, flip cards back
                card1.element.classList.remove('flipped');
                card2.element.classList.remove('flipped');
            }

            gameState.flippedCards = [];
            updateDisplay();
        }

        function startTimer() {
            gameState.timerInterval = setInterval(() => {
                gameState.timer++;
                updateDisplay();
            }, 1000);
        }

        function updateDisplay() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('moves').textContent = gameState.moves;
            
            const minutes = Math.floor(gameState.timer / 60);
            const seconds = gameState.timer % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function gameWon() {
            clearInterval(gameState.timerInterval);
            
            const bonusPoints = Math.max(0, 500 - (gameState.moves * 10) - (gameState.timer * 2));
            gameState.score += bonusPoints;
            
            document.getElementById('victoryText').innerHTML = `
                <p>You matched all Characters!</p>
                <p>Moves: ${gameState.moves}</p>
                <p>Time: ${Math.floor(gameState.timer / 60)}:${(gameState.timer % 60).toString().padStart(2, '0')}</p>
                <p>Final Score: ${gameState.score}</p>
            `;
            
            document.getElementById('victoryMessage').style.display = 'block';
            
            // Save high score
            saveHighScore();
        }

        function hideVictory() {
            document.getElementById('victoryMessage').style.display = 'none';
            newGame();
        }

        function newGame() {
            initGame();
        }

        function showHint() {
            if (gameState.score < 10) {
                alert("You need at least 10 points to use a hint!");
                return;
            }
            
            if (gameState.flippedCards.length === 1) {
                const flippedCard = gameState.flippedCards[0];
                const matchingCard = gameState.cards.find(card => 
                    card.matchId === flippedCard.card.matchId && 
                    card.id !== flippedCard.card.id
                );
                
                if (matchingCard) {
                    const matchingIndex = gameState.cards.indexOf(matchingCard);
                    const matchingElement = document.querySelector(`[data-index="${matchingIndex}"]`);
                    
                    if (!matchingElement.classList.contains('matched')) {
                        // Deduct points for hint
                        gameState.score -= 10;
                        updateDisplay();
                        
                        matchingElement.style.border = '3px solid #ffd700';
                        matchingElement.style.boxShadow = '0 0 20px #ffd700';
                        
                        setTimeout(() => {
                            matchingElement.style.border = '';
                            matchingElement.style.boxShadow = '';
                        }, 2000);
                    }
                }
            } else {
                alert("Flip one card first to get a hint for its match!");
            }
        }

        // High score functions
        function saveHighScore() {
            if (!gameState.playerName) {
                gameState.playerName = document.getElementById('playerName').value || "Anonymous";
            }
            
            const highScores = JSON.parse(localStorage.getItem('conclaveArcanaHighScores')) || [];
            
            highScores.push({
                name: gameState.playerName,
                score: gameState.score,
                difficulty: gameState.difficulty,
                time: gameState.timer,
                date: new Date().toISOString()
            });
            
            // Sort by score (descending)
            highScores.sort((a, b) => b.score - a.score);
            
            // Keep only top 10 scores
            if (highScores.length > 10) {
                highScores.length = 10;
            }
            
            localStorage.setItem('conclaveArcanaHighScores', JSON.stringify(highScores));
            loadHighScores();
        }

        function loadHighScores() {
            const highScores = JSON.parse(localStorage.getItem('conclaveArcanaHighScores')) || [];
            const tbody = document.getElementById('highScoresBody');
            tbody.innerHTML = '';
            
            highScores.forEach((score, index) => {
                const row = document.createElement('tr');
                
                const minutes = Math.floor(score.time / 60);
                const seconds = score.time % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${score.name}</td>
                    <td>${score.score}</td>
                    <td>${score.difficulty.charAt(0).toUpperCase() + score.difficulty.slice(1)}</td>
                    <td>${timeString}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Event listeners
        document.getElementById('difficulty').addEventListener('change', newGame);
    </script>
</body>
</html>